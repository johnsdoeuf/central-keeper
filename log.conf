{
  "version": 1,
  "formatters": {
    "simple": {
      "format": "%(asctime)s [%(levelname)s] Id%(process)d %(funcName)s: %(message)s"
    }
  },
 
  "handlers": {
    "console_handler": {
      "level": "ERROR",
      "class": "logging.StreamHandler",
      "formatter": "simple"
    },
 
    "historique": {
      "level": "WARNING",
      "class": "logging.handlers.RotatingFileHandler",
      "formatter": "simple",
      "filename": "/root/sauvegarde/sauv.log", 
      "encoding": "utf8",
      "maxBytes": 1000000,
      "backupCount": 2
    },

    "detail": {
      "level": "INFO",
      "class": "logging.handlers.TimedRotatingFileHandler",
      "formatter": "simple",
      "filename": "/root/sauvegarde/detail.log", 
      "encoding": "utf8",
	  "when":"midnight",
	  "interval": 1,
	  "backupCount": 10
    },

     "mail_handler": {
      "level": "ERROR",
      "class": "logging.handlers.SMTPHandler",
      "formatter": "simple",
      "mailhost": "smtp.free.fr"  ,
      "fromaddr": "nas_omv@local.fr",
      "toaddrs": "jo.evin@gmx.fr",
      "subject": "Erreur dans la sauvegarde"
    }

  },
 
  "loggers": {
    "main": {
      "handlers": ["console_handler", "historique", "mail_handler", "detail"],
      "level": "DEBUG"
    }
  }
}
